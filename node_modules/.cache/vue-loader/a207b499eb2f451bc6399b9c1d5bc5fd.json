{"remainingRequest":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jean/workbench/projeto-consolidado/cronoanalise-client/src/components/Zoom/ZoomProdutos/ZoomProduto.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/src/components/Zoom/ZoomProdutos/ZoomProduto.vue","mtime":1575586686578},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vuetify-loader/lib/loader.js","mtime":1575586686446},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mdiMagnify} from '@mdi/js';\nimport ZoomProduto from './zoom-produto-service';\n\nexport default {\n    name: \"ZoomProduto\",\n    mounted() {\n        this.innerMethod();\n    },\n    props: ['oidProduto'],\n    data: () => ({\n        icons: {\n            mdiMagnify,\n        },\n        dialog: false,\n        formTitle: 'Zoom De Produto',\n        headers: [\n            {\n                text: 'Nome',\n                align: 'center',\n                value: 'nome'\n            },\n            {\n                text: 'Código',\n                align: 'center',\n                value: 'codigo'\n            }\n        ],\n        loading: false,\n        pesquisaRapida: '',\n        singleSelect: true,\n        produtoSelecionado: [],\n        produtos: [],\n        produto: {},\n    }),\n    methods: {\n        initialize() {\n            this.loading = true;\n            ZoomProduto.listar().then(resposta => {\n                this.dialog = true;\n                this.produtos = resposta.data;\n                this.loading = false;\n            }).catch(onError => {\n                if (onError.response && onError.response.data) {\n                    this.onError(onError.response.data.message);\n                } else {\n                    this.onError(onError);\n                }\n            });\n        },\n        consultaPeloOid() {\n            if (this.oidProduto) {\n                ZoomProduto.buscaProdutoOid(this.oidProduto).then(resposta => {\n                    this.produto = resposta.data;\n                    this.$emit('produtoSelecionado', this.produto);\n                }).catch(onError => {\n                    if (onError.response && onError.response.data) {\n                        this.onError(onError.response.data.message);\n                    } else {\n                        this.onError(onError);\n                    }\n                })\n            }\n        },\n        close() {\n            this.dialog = false;\n            this.produtoSelecionado = [];\n            this.produtos = [];\n        },\n        selecionar() {\n            if (this.produtoSelecionado && this.produtoSelecionado.length > 0) {\n                if (this.produtoSelecionado) {\n                    this.produto = this.produtoSelecionado[0];\n                    this.$emit('produtoSelecionado', this.produto);\n                }\n                this.close();\n            } else {\n                this.onError('Falha ao selecionar Produto');\n                this.close();\n            }\n        },\n        onSuccess(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'success',\n                title: 'Sucesso',\n                text: msg,\n                showConfirmButton: false,\n                timer: 2000\n            });\n        },\n        onError(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'error',\n                title: 'Erro',\n                text: msg,\n                timer: 2000,\n            })\n        },\n        innerMethod() {\n            this.consultaPeloOid();\n        },\n    },\n}\n",{"version":3,"sources":["ZoomProduto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ZoomProduto.vue","sourceRoot":"src/components/Zoom/ZoomProdutos","sourcesContent":["<template>\n    <div id=\"ZoomProdutos\">\n        <v-dialog v-model=\"dialog\" max-width=\"600px\">\n            <template v-slot:activator=\"{ on }\">\n                <v-text-field v-model=\"produto.nome\" label=\"Produto\"\n                              prepend-icon=\"mdi-magnify\"\n                              @click:prepend=\"initialize()\"></v-text-field>\n            </template>\n            <v-card>\n                <v-card-title>\n                    <span class=\"headline\">{{ formTitle }}</span>\n                    <div class=\"flex-grow-1\"></div>\n                    <v-text-field prepend-icon=\"mdi-magnify\" v-model=\"pesquisaRapida\" label=\"Pesquisa rápida\"\n                                  single-line\n                                  hide-details></v-text-field>\n                </v-card-title>\n                <br>\n                <v-card-text>\n\n                    <v-data-table :headers=\"headers\" show-select\n                                  :items=\"produtos\"\n                                  :search=\"pesquisaRapida\"\n                                  sort-by=\"calories\"\n                                  :single-select=\"singleSelect\"\n                                  item-key=\"oid\"\n                                  :loading=\"loading\" loading-text=\"Loading... Please wait\"\n                                  class=\"elevation-1\"\n                                  v-model=\"produtoSelecionado\">\n                    </v-data-table>\n                </v-card-text>\n                <br>\n                <v-card-actions>\n                    <div class=\"flex-grow-1\"></div>\n                    <v-btn color=\"grey darken-1\" @click=\"close\">Voltar</v-btn>\n                    <v-btn color=\"green darken-1\" @click=\"selecionar\">Selecionar</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n    </div>\n</template>\n\n<script>\n    import {mdiMagnify} from '@mdi/js';\n    import ZoomProduto from './zoom-produto-service';\n\n    export default {\n        name: \"ZoomProduto\",\n        mounted() {\n            this.innerMethod();\n        },\n        props: ['oidProduto'],\n        data: () => ({\n            icons: {\n                mdiMagnify,\n            },\n            dialog: false,\n            formTitle: 'Zoom De Produto',\n            headers: [\n                {\n                    text: 'Nome',\n                    align: 'center',\n                    value: 'nome'\n                },\n                {\n                    text: 'Código',\n                    align: 'center',\n                    value: 'codigo'\n                }\n            ],\n            loading: false,\n            pesquisaRapida: '',\n            singleSelect: true,\n            produtoSelecionado: [],\n            produtos: [],\n            produto: {},\n        }),\n        methods: {\n            initialize() {\n                this.loading = true;\n                ZoomProduto.listar().then(resposta => {\n                    this.dialog = true;\n                    this.produtos = resposta.data;\n                    this.loading = false;\n                }).catch(onError => {\n                    if (onError.response && onError.response.data) {\n                        this.onError(onError.response.data.message);\n                    } else {\n                        this.onError(onError);\n                    }\n                });\n            },\n            consultaPeloOid() {\n                if (this.oidProduto) {\n                    ZoomProduto.buscaProdutoOid(this.oidProduto).then(resposta => {\n                        this.produto = resposta.data;\n                        this.$emit('produtoSelecionado', this.produto);\n                    }).catch(onError => {\n                        if (onError.response && onError.response.data) {\n                            this.onError(onError.response.data.message);\n                        } else {\n                            this.onError(onError);\n                        }\n                    })\n                }\n            },\n            close() {\n                this.dialog = false;\n                this.produtoSelecionado = [];\n                this.produtos = [];\n            },\n            selecionar() {\n                if (this.produtoSelecionado && this.produtoSelecionado.length > 0) {\n                    if (this.produtoSelecionado) {\n                        this.produto = this.produtoSelecionado[0];\n                        this.$emit('produtoSelecionado', this.produto);\n                    }\n                    this.close();\n                } else {\n                    this.onError('Falha ao selecionar Produto');\n                    this.close();\n                }\n            },\n            onSuccess(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'success',\n                    title: 'Sucesso',\n                    text: msg,\n                    showConfirmButton: false,\n                    timer: 2000\n                });\n            },\n            onError(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'error',\n                    title: 'Erro',\n                    text: msg,\n                    timer: 2000,\n                })\n            },\n            innerMethod() {\n                this.consultaPeloOid();\n            },\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}