{"remainingRequest":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jean/workbench/projeto-consolidado/cronoanalise-client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/src/App.vue","mtime":1576022169066},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vuetify-loader/lib/loader.js","mtime":1575586686446},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport Home from \"./views/Home\";\nimport Login from \"./views/Login\";\nimport Vuetify from 'vuetify/lib';\n\nexport default {\n    name: 'App',\n    vuetify: new Vuetify({\n        theme: {dark: true},\n    }),\n    data: () => ({\n        autenticado: false,\n        usuario: {\n            username: '',\n            password: '',\n        },\n    }),\n    created() {\n        if (localStorage.getItem(\"autenticado\")) {\n            this.autenticado = true;\n        }\n    },\n    methods: {\n        autentica(usuario) {\n            if (usuario.login && usuario.senha) {\n                this.usuario.username = usuario.login;\n                this.usuario.password = usuario.senha;\n                axios.post('http://localhost:8080/authenticate', this.usuario).then(resposta => {\n                    localStorage.removeItem('token');\n                    localStorage.removeItem('permissoes');\n                    localStorage.removeItem('nome');\n                    localStorage.token = resposta.data.token.token;\n                    localStorage.permissoes = resposta.data.token.permissao;\n                    localStorage.nome = resposta.data.token.nome;\n                    this.usuario = {};\n                    localStorage.autenticado = true;\n                    this.autenticado = true;\n                    this.$router.push('/');\n                }).catch(onError => {\n                    this.onError(\"Usuário não autenticado\");\n                });\n            } else {\n                this.onError(\"Digite o Login e a Senha\");\n            }\n        },\n        sair(sair) {\n            this.autenticado = sair;\n            this.usuario = {};\n            this.$router.push('/login');\n            localStorage.removeItem('autenticado');\n        },\n        wait(ms) {\n            var start = new Date().getTime();\n            var end = start;\n            while (end < start + ms) {\n                end = new Date().getTime();\n            }\n        },\n        onSuccess(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'success',\n                title: 'Sucesso',\n                text: msg,\n                showConfirmButton: false,\n                timer: 2000\n            });\n        },\n        onError(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'error',\n                title: 'Erro',\n                text: msg,\n                timer: 2000,\n            })\n        },\n    },\n    components: {\n        Home,\n        Login\n    },\n};\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"home\">\n        <v-app id=\"inspire\">\n            <template>\n                <div v-if=\"autenticado\">\n                    <home v-on:sair=\"sair\"></home>\n                </div>\n            </template>\n            <template>\n                <div v-if=\"!autenticado\">\n                    <login v-on:autenticador=\"autentica\"></login>\n                </div>\n            </template>\n        </v-app>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    import Home from \"./views/Home\";\n    import Login from \"./views/Login\";\n    import Vuetify from 'vuetify/lib';\n\n    export default {\n        name: 'App',\n        vuetify: new Vuetify({\n            theme: {dark: true},\n        }),\n        data: () => ({\n            autenticado: false,\n            usuario: {\n                username: '',\n                password: '',\n            },\n        }),\n        created() {\n            if (localStorage.getItem(\"autenticado\")) {\n                this.autenticado = true;\n            }\n        },\n        methods: {\n            autentica(usuario) {\n                if (usuario.login && usuario.senha) {\n                    this.usuario.username = usuario.login;\n                    this.usuario.password = usuario.senha;\n                    axios.post('http://localhost:8080/authenticate', this.usuario).then(resposta => {\n                        localStorage.removeItem('token');\n                        localStorage.removeItem('permissoes');\n                        localStorage.removeItem('nome');\n                        localStorage.token = resposta.data.token.token;\n                        localStorage.permissoes = resposta.data.token.permissao;\n                        localStorage.nome = resposta.data.token.nome;\n                        this.usuario = {};\n                        localStorage.autenticado = true;\n                        this.autenticado = true;\n                        this.$router.push('/');\n                    }).catch(onError => {\n                        this.onError(\"Usuário não autenticado\");\n                    });\n                } else {\n                    this.onError(\"Digite o Login e a Senha\");\n                }\n            },\n            sair(sair) {\n                this.autenticado = sair;\n                this.usuario = {};\n                this.$router.push('/login');\n                localStorage.removeItem('autenticado');\n            },\n            wait(ms) {\n                var start = new Date().getTime();\n                var end = start;\n                while (end < start + ms) {\n                    end = new Date().getTime();\n                }\n            },\n            onSuccess(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'success',\n                    title: 'Sucesso',\n                    text: msg,\n                    showConfirmButton: false,\n                    timer: 2000\n                });\n            },\n            onError(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'error',\n                    title: 'Erro',\n                    text: msg,\n                    timer: 2000,\n                })\n            },\n        },\n        components: {\n            Home,\n            Login\n        },\n    };\n</script>\n\n<style>\n\n</style>\n"]}]}