{"remainingRequest":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jean/workbench/projeto-consolidado/cronoanalise-client/src/views/produto/produtos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/src/views/produto/produtos.vue","mtime":1575586686582},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vuetify-loader/lib/loader.js","mtime":1575586686446},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jean/workbench/projeto-consolidado/cronoanalise-client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Router from '../../router';\nimport Produto from './produto.service';\nimport {mdiAccount, mdiDelete, mdiMagnify, mdiPencil} from '@mdi/js'\n\n\nexport default {\n    Router,\n    data: () => ({\n        icons: {\n            mdiAccount,\n            mdiMagnify,\n            mdiPencil,\n            mdiDelete,\n        },\n        msgDeAlertas: {\n            success: '',\n            error: '',\n            info: '',\n            warning: '',\n        },\n        produtos: [],\n        loading: false,\n        pesquisaRapida: '',\n        headers: [\n            {\n                text: 'Nome',\n                align: 'left',\n                value: 'nome',\n            },\n            {\n                text: 'Código',\n                align: 'left',\n                value: 'codigo'\n            },\n            {\n                text: 'Data Criação',\n                align: 'center',\n                value: 'dataCriacao'\n            },\n            {\n                text: 'Editar',\n                value: 'editar',\n                align: 'center',\n                sortable: false\n            },\n            {\n                text: 'Excluir',\n                value: 'excluir',\n                align: 'center',\n                sortable: false,\n                showgroupby: false,\n            },\n        ],\n    }),\n\n    created() {\n        this.initialize()\n    },\n\n    methods: {\n        initialize() {\n            this.loading = true;\n            Produto.listar().then(resposta => {\n                this.produtos = resposta.data;\n                this.loading = false;\n            }).catch(onError => {\n                if (onError.response && onError.response.data) {\n                    this.onError(onError.response.data.message);\n                } else {\n                    this.onError(onError);\n                }\n                this.loading = false;\n            });\n        },\n\n        editItem(item) {\n            if (item && item.oid) {\n                this.$router.push({path: `/produto/${item.oid}`});\n            }\n        },\n        excluir(item) {\n            this.$swal.mixin({\n                customClass: {\n                    confirmButton: 'btn btn-success',\n                    cancelButton: 'btn btn-danger'\n                },\n                buttonsStyling: false\n            });\n            this.$swal.fire({\n                position: 'top',\n                title: 'Deseja excluir esse produto?',\n                type: 'question',\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Sim, excluir!',\n                cancelButtonText: 'Não, cancelar!',\n                confirmButtonColor: 'hsl(119, 37%, 50%)',\n                cancelButtonColor: '#d33',\n                reverseButtons: true\n            }).then(resposta => {\n                if (resposta.value) {\n                    Produto.bloquear(item).then(resposta => {\n                        this.onSuccess(resposta.data);\n                        this.close();\n                    }).catch(onError => {\n                        if (onError.response && onError.response.data) {\n                            this.onError(onError.response.data.message);\n                        } else {\n                            this.onError(onError);\n                        }\n                        this.close();\n                    });\n                } else {\n                    this.onCancelado();\n                    this.close();\n                }\n            });\n        },\n        close() {\n            setTimeout(() => {\n                this.initialize();\n            }, 300);\n        },\n        onSuccess(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'success',\n                title: 'Sucesso',\n                text: msg,\n                showConfirmButton: false,\n                timer: 2000\n            });\n        },\n        onError(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'error',\n                title: 'Erro',\n                text: msg,\n                timer: 2000,\n            })\n        },\n        onCancelado(msg) {\n            this.$swal.fire({\n                position: 'top',\n                type: 'error',\n                title: 'Cancelado',\n                text: msg,\n                timer: 2000,\n            })\n        },\n    },\n    components: {},\n};\n",{"version":3,"sources":["produtos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"produtos.vue","sourceRoot":"src/views/produto","sourcesContent":["<template>\n    <v-app id=\"inspire\">\n        <v-data-table :headers=\"headers\" :items=\"produtos\" :search=\"pesquisaRapida\" sort-by=\"calories\"\n                      :loading=\"loading\" loading-text=\"Loading... Please wait\" class=\"elevation-1\">\n            <template v-slot:top>\n                <v-toolbar flat color=\"dack\">\n                    <v-toolbar-title>Produtos</v-toolbar-title>\n                    <v-divider class=\"mx-4\" inset vertical></v-divider>\n                    <v-text-field v-model=\"pesquisaRapida\" label=\"Pesquisa rápida\" single-line\n                                  hide-details></v-text-field>\n                    <v-icon>{{ icons.mdiMagnify }}</v-icon>\n                    <div class=\"flex-grow-1\"></div>\n                    <router-link class=\"link-menu\" to='/produto/new'>\n                        <v-btn color=\"green\" dark class=\"mb-2\">Novo Produto</v-btn>\n                    </router-link>\n                </v-toolbar>\n            </template>\n            <template v-slot:item.editar=\"{ item }\">\n                <v-icon small color=\"blue\" class=\"mr-2\" @click=\"editItem(item)\">{{icons.mdiPencil}}</v-icon>\n            </template>\n            <template v-slot:item.excluir=\"{ item }\">\n                <div>\n                    <v-icon small color=\"red\" @click=\"excluir(item)\">{{icons.mdiDelete}}</v-icon>\n                </div>\n            </template>\n        </v-data-table>\n    </v-app>\n</template>\n\n\n<script>\n    import Router from '../../router';\n    import Produto from './produto.service';\n    import {mdiAccount, mdiDelete, mdiMagnify, mdiPencil} from '@mdi/js'\n\n\n    export default {\n        Router,\n        data: () => ({\n            icons: {\n                mdiAccount,\n                mdiMagnify,\n                mdiPencil,\n                mdiDelete,\n            },\n            msgDeAlertas: {\n                success: '',\n                error: '',\n                info: '',\n                warning: '',\n            },\n            produtos: [],\n            loading: false,\n            pesquisaRapida: '',\n            headers: [\n                {\n                    text: 'Nome',\n                    align: 'left',\n                    value: 'nome',\n                },\n                {\n                    text: 'Código',\n                    align: 'left',\n                    value: 'codigo'\n                },\n                {\n                    text: 'Data Criação',\n                    align: 'center',\n                    value: 'dataCriacao'\n                },\n                {\n                    text: 'Editar',\n                    value: 'editar',\n                    align: 'center',\n                    sortable: false\n                },\n                {\n                    text: 'Excluir',\n                    value: 'excluir',\n                    align: 'center',\n                    sortable: false,\n                    showgroupby: false,\n                },\n            ],\n        }),\n\n        created() {\n            this.initialize()\n        },\n\n        methods: {\n            initialize() {\n                this.loading = true;\n                Produto.listar().then(resposta => {\n                    this.produtos = resposta.data;\n                    this.loading = false;\n                }).catch(onError => {\n                    if (onError.response && onError.response.data) {\n                        this.onError(onError.response.data.message);\n                    } else {\n                        this.onError(onError);\n                    }\n                    this.loading = false;\n                });\n            },\n\n            editItem(item) {\n                if (item && item.oid) {\n                    this.$router.push({path: `/produto/${item.oid}`});\n                }\n            },\n            excluir(item) {\n                this.$swal.mixin({\n                    customClass: {\n                        confirmButton: 'btn btn-success',\n                        cancelButton: 'btn btn-danger'\n                    },\n                    buttonsStyling: false\n                });\n                this.$swal.fire({\n                    position: 'top',\n                    title: 'Deseja excluir esse produto?',\n                    type: 'question',\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonText: 'Sim, excluir!',\n                    cancelButtonText: 'Não, cancelar!',\n                    confirmButtonColor: 'hsl(119, 37%, 50%)',\n                    cancelButtonColor: '#d33',\n                    reverseButtons: true\n                }).then(resposta => {\n                    if (resposta.value) {\n                        Produto.bloquear(item).then(resposta => {\n                            this.onSuccess(resposta.data);\n                            this.close();\n                        }).catch(onError => {\n                            if (onError.response && onError.response.data) {\n                                this.onError(onError.response.data.message);\n                            } else {\n                                this.onError(onError);\n                            }\n                            this.close();\n                        });\n                    } else {\n                        this.onCancelado();\n                        this.close();\n                    }\n                });\n            },\n            close() {\n                setTimeout(() => {\n                    this.initialize();\n                }, 300);\n            },\n            onSuccess(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'success',\n                    title: 'Sucesso',\n                    text: msg,\n                    showConfirmButton: false,\n                    timer: 2000\n                });\n            },\n            onError(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'error',\n                    title: 'Erro',\n                    text: msg,\n                    timer: 2000,\n                })\n            },\n            onCancelado(msg) {\n                this.$swal.fire({\n                    position: 'top',\n                    type: 'error',\n                    title: 'Cancelado',\n                    text: msg,\n                    timer: 2000,\n                })\n            },\n        },\n        components: {},\n    };\n</script>\n\n<style>\n\n</style>"]}]}